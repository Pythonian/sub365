# /etc/default/celeryd

# Name of node to start one worker
CELERYD_NODES="worker1"
# To start multiple nodes 
#CELERYD_NODES="worker1 worker2 worker3"

# App instance to use
CELERY_APP="config.celery"

# Path to celery command in virtual environment
CELERY_BIN="/home/username/parentdir/project/venv/bin/celery"

# Where to chdir at start
CELERYD_CHDIR="/home/username/parentdir/project/"

# How to call manage.py
CELERYD_MULTI="multi"

# Extra command-line arguments to the worker
CELERYD_OPTS="--time-limit=300 --concurrency=8"
# Configure node-specific settings by appending node name to arguments
#CELERYD_OPTS="--time-limit=300 -c 8 -c:worker2 4 -c:worker3 2 -Ofair:worker1"

# Workers should run as an unprivileged user
CELERYD_USER="celery"
CELERYD_GROUP="celery"

# - %n will be replaced with the first part of the nodename.
# - %I will be replaced with the current child process index
#   and is important when using the prefork pool to avoid race conditions.
CELERYD_PID_FILE="/var/run/celery/%n.pid"
CELERYD_LOG_FILE="/var/log/celery/%n%I.log"

# Set logging level
CELERYD_LOG_LEVEL="INFO"

# Celery Beat
CELERYBEAT_PID_FILE="/var/run/celery/beat.pid"
CELERYBEAT_LOG_FILE="/var/log/celery/beat.log"

# If enabled PID and log directories will be created if missing,
# and owned by the userid/group configured
CELERY_CREATE_DIRS=1