{% extends "account/base.html" %}
{% load widget_tweaks %}

{% block title %}Onboarding Process{% endblock title %}

{% block body %}

<h6 class="my-4 text-dark">Please enter your information below and choose how you want to
    connect your account.</h6>
<div class="text-start mb-3">
    <form action="" method="post">
        {% csrf_token %}

        {% for error in form.non_field_errors %}
        <div class="alert alert-danger border-5 border-danger border-top-0 border-end-0 border-bottom-0 mb-1"
            role="alert">
            <i class="fa-solid fa-triangle-exclamation me-1"></i> {{ error }}
        </div>
        {% endfor %}

        <div class="row g-3 mb-3">
            <div class="form-group">
                {% for error in form.subdomain.errors %}
                <div class="alert alert-danger border-5 border-danger border-top-0 border-end-0 border-bottom-0 mb-1"
                    role="alert">
                    <i class="fa-solid fa-triangle-exclamation me-1"></i> {{ error }}
                </div>
                {% endfor %}
                {% render_field form.subdomain %}
                <small>{{ form.subdomain.help_text }}</small>
            </div>

            <div class="form-group">
                {% for error in form.server.errors %}
                <div class="alert alert-danger border-5 border-danger border-top-0 border-end-0 border-bottom-0 mb-1"
                    role="alert">
                    <i class="fa-solid fa-triangle-exclamation me-1"></i> {{ error }}
                </div>
                {% endfor %}
                {% render_field form.server class="form-select" %}
                <small>{{ form.server.help_text }} <i class="fa-solid fa-circle-question ms-1 small"
                        data-bs-toggle="tooltip" data-bs-placement="top"
                        title="You must have a Server on Discord to continue"></i></small>
            </div>

            <div class="form-group">
                {% for error in form.affiliate_commission.errors %}
                <div class="alert alert-danger border-5 border-danger border-top-0 border-end-0 border-bottom-0 mb-1"
                    role="alert">
                    <i class="fa-solid fa-triangle-exclamation me-1"></i> {{ error }}
                </div>
                {% endfor %}
                <div class="input-group">
                    {% render_field form.affiliate_commission %}
                    <span class="input-group-text" id="affiliate-commission"><i class="fa-solid fa-percent"></i></span>
                </div>
                <small>{{ form.affiliate_commission.help_text }}</small>
            </div>

            <div class="form-group">
                {% for error in form.access_code.errors %}
                <div class="alert alert-danger border-5 border-danger border-top-0 border-end-0 border-bottom-0 mb-1"
                    role="alert">
                    <i class="fa-solid fa-triangle-exclamation me-1"></i> {{ error }}
                </div>
                {% endfor %}
                {% render_field form.access_code %}
                <small>Contact <a href="mailto:admin@sub365.co" target="_blank" title="Send a mail">Sub365.co</a>
                    for access code.</small>
            </div>
        </div>

        <div class="d-grid gap-2">
            <button class="btn btn-primary py-3" type="submit" name="connect_stripe">
                Connect with Stripe
            </button>
            <button class="btn btn-dark py-3" type="submit" name="connect_coinbase">
                Connect with Coinpayments
            </button>
        </div>
    </form>
</div>
{% endblock body %}
