{% extends "base.html" %}

{% block title %}My Subscribers{% endblock title %}

{% block content %}

    {% if subscribers %}
    <div class="d-sm-flex align-items-center justify-content-between mb-4">
        <div>
            <h1 class="h3 mb-0 text-gray-800">Subscribers Overview</h1>
            <small>See all details about your subscribers</small>
        </div>
    </div>

    <div class="d-flex align-items-center justify-content-between mb-3">
        <h5 class="text-gray-800">All Subscribers <span class="ms-2 small badge badge-primary opacity-75">{{ subscriber_count }}</span></h5>
    </div>

    <div class="row g-4">
        {% for subscriber in subscribers %}
        <div class="col-lg-4">
            {% include 'serverowner/_subscriber_card.html' %}
        </div>
        {% endfor %}
    </div>

    {% else %}
    <div class="text-center py-5">
        <span class="text-primary fa-stack fa-4x mb-3">
            <i class="fas fa-circle fa-stack-2x"></i>
            <i class="fas fa-face-frown fa-stack-1x fa-inverse"></i>
        </span>
        <h3 class="text-dark">You have no Subscriber yet.</h3>
        <p class="mb-5">Don't worry, you can start getting subscribers by sharing your subscription link.<br> Simply copy your unique subscription link below.</p>
        <button id="copy-button" class="btn py-2 px-4 btn-primary shadow-sm rounded-5"
            data-subscription-link="{{ request.scheme }}://{{ request.get_host }}/subscribe/?subdomain={{ request.user.serverowner.subdomain }}"><i class="far fa-clipboard me-1"></i> Copy Subscription Link</button>
    </div>
    {% endif %}


{% endblock content %}
